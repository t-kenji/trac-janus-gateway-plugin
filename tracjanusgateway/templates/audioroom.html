<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:i18n="http://genshi.edgewall.org/i18n"
      i18n:domain="tracjanusgateway">
  <xi:include href="layout.html" />
  <head>
    <title>Janus WebRTC Gateway: AudioRoom</title>
    <script type="text/javascript">
function audiorooms_initializer(initializer) {
      <py:if test="defined('audio_rooms')">
        <py:for each="room in audio_rooms">
    $('#start-${room}').click(function() {
        $('.nameplate:not(#room-${room}').hide();
        initializer(${room});
    });
        </py:for>
      </py:if>
}
    </script>
  </head>

  <body>
    <div id="ctxtnav" class="nav"></div>

    <div id="content">
      <py:if test="defined('audio_rooms')">
        <h1 py:for="room in audio_rooms" class="nameplate" id="room-${room}">Audio Room @${room} <button id="start-${room}">Start</button></h1>
      </py:if>
      <div class="pure-g" id="details">
        <div class="pure-u-1">
          <h3>Details</h3>
          <p>Press the <code>Start</code> button above to launch the demo.</p>
        </div>
      </div>
      <div class="pure-g hidden" id="audiojoin">
        <div class="pure-u-1">
          <div class="l-box">
            <span id="you"></span>
            <div class="pure-u-1 pure-form" id="controls">
              <div class="pure-control-group hidden" id="registernow">
                <label for="username">@</label>
                <input type="text" class="pure-input-3-4" placeholder="Choose a display name" id="username" value="${username}" onkeypress="return checkEnter(this, event);"></input>
                <button class="button-small button-success pure-button" id="register">Join the room</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pure-g hidden" id="room">
        <div class="pure-u-1 pure-u-md-1-2">
          <div class="l-box">
            <h3>Participants
              <span class="hidden" id="participant"></span>
              <button class="button-xsmall button-error" id="toggleaudio">Mute</button>
            </h3>
          </div>
          <div class="l-box">
            <ul id="list"></ul>
          </div>
        </div>
        <div class="pure-u-1 pure-u-md-1-2">
          <div class="l-box">
            <h3>Mixed Audio</h3>
          </div>
          <div class="l-box">
            <div id="mixedaudio"></div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
